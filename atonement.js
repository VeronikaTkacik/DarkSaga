//Сцени для шляху Спокути
const scenes = [
  {
    id: 1,
    description: "Ти подорожуєш через спокійні ліси й долини світу Елерасс, коли на твоєму шляху з'являється старий гном із засмученим виглядом. Він каже, що шукає того, хто допоможе повернути втрачену силу його магії. Дві стежки ведуть далі.",
    options: [
      { text: "Пропонувати допомогу гному і слідувати за ним", nextScene: 2 },
      { text: "Іти самостійно в пошуках магічної істоти, що може допомогти очиститись", nextScene: 3 }
    ]
  },
  {
    id: 2,
    description: "Ти йдеш за гномом і незабаром знаходиш стародавню печеру, вхід до якої закритий дивним каменем,який схожий на портал. Гном пропонує об'єднати сили, щоб проникнути всередину. Що робити?",
    options: [
      { text: "Допомогти йому з розкриттям каменя", nextScene: 4 },
      { text: "Відмовитися й спробувати знайти інший спосіб", nextScene: 5 }
    ]
  },
  {
    id: 3,
    description: "Ти йдеш по лісовій стежці і зустрічаєш ельфа Елорадо, який пропонує тебе провести через засекречену лісову галявину. Вона веде до великої драконячої печери. Який шлях обереш?",
    options: [
      { text: "Йти разом з ельфом через ліс", nextScene: 6 },
      { text: "Піти самостійно до печери дракона", nextScene: 7 }
    ]
  },
  {
    id: 4,
    description: "Вам вдається розкрити камінь і увійти до печери. В середині вас зустрічає дух древнього чаклуна-Ніколаса, який вимагає відповісти на важке питання. Що зробиш?",
    options: [
      { text: "Відповісти чесно, навіть якщо це може бути небезпечно", nextScene: 8 },
      { text: "Обдурити духа, щоб уникнути покарання", nextScene: 9 }
    ]
  },
  {
    id: 5,
    description: "Ти вирішуєш шукати інший спосіб і знаходиш приховану стежку, що веде до глибокої долини. Ти зустрічаєш дивних істот з крилами, які мають сили, що можуть відновити твою душу. Який вибір зробиш?",
    options: [
      { text: "Запитати їх про спосіб очищення", nextScene: 10 },
      { text: "Іти далі, шукаючи інші можливості", nextScene: 11 }
    ]
  },
  {
    id: 6,
    description: "Ельф веде тебе через галявину, але раптом з'являється дракон-Дракула, що охороняє шлях. Він дає тобі вибір: пройти через його пазурі чи допомогти йому позбутися прокляття. Що вибереш?",
    options: [
      { text: "Допомогти дракону зняти прокляття", nextScene: 12 },
      { text: "Пройти через пазурі дракона", nextScene: 13 }
    ]
  },
  {
    id: 7,
    description: "Ти підходиш до драконячої печери і відчуваєш, як твої сили зростають. Всередині зустрічаєш стародавнього дракона, що має загадкову силу. Він пропонує тобі одну з двох речей: силу чи спокуту. Що обереш?",
    options: [
      { text: "Прийняти силу дракона", nextScene: 14 },
      { text: "Отримати спокуту від дракона", nextScene: 15 }
    ]
  },
  {
    id: 8,
    description: "Твоя відверта відповідь задовольняє духа чаклуна, і він дає тобі ключ до древніх сил. Ти отримуєш здатність очищати себе та інших від темних сил,які огорнули тебе,але ти хочеш очистити свою душу. Як ти використаєш свою нову силу?",
    options: [
      { text: "Очищати світ від темряви", nextScene: 16 },
      { text: "Залишити свою силу для себе і віднайти спокій", nextScene: 17 }
    ]
  },
  {
    id: 9,
    description: "Ти обдурюєш духа, і він зникає. Однак твоя душа відчуває тяжкість і темряву. Ти відчуваєш, що для досягнення Спокути маєш пройти через великі випробування. Що зробиш?",
    options: [
      { text: "Шукати можливість очистити душу", nextScene: 18 },
      { text: "Прийняти темряву і повернутися в глибини лісу", nextScene: 19 }
    ]
  },
  {
    id: 10,
    description: "Істоти ведуть тебе до джерела сили. Ти очищаєш свою душу, отримавши внутрішній мир. Світло заповнює тебе. Ти тепер став охоронцем рівноваги між Світлом і Тінню.",
    options: []
  },
  {
    id: 11,
    description: "Ти йдеш далі, але твоя внутрішня боротьба з тінями триває. Ти дізнаєшся, що твій шлях вимагає ще більшої відданості для спокути. Ти маєш вибір — чи приймеш це? ",
    options: []
  },
  {
    id: 12,
    description: "Дракон відпускає прокляття і дарує тобі силу в обмін на твою допомогу. Ти тепер можеш допомагати іншим знайти спокуту. Твоя місія лише починається.",
    options: []
  },
  {
    id: 13,
    description: "Ти проходиш через пазурі дракона, але отримуєш травми. Втім, ти набуваєш сили, яку завжди шукав. Ти тепер маєш можливість очистити себе від темряви.",
    options: []
  },
  {
    id: 14,
    description: "Ти приймаєш силу дракона і починаєш очищати світ. Але з кожним кроком ти розумієш, що справжня спокута приходить лише через допомогу іншим.",
    options: []
  },
  {
    id: 15,
    description: "Ти шукаєш спосіб досягти спокути і врешті знаходиш його. Ти приносиш мир і рівновагу, розуміючи, що шлях спокути — це постійне самопожертвування.",
    options: []
  },
  {
    id: 16,
    description: "Ти очищаєш світ від темряви, втілюючи в собі ідеал спокути. Ти стаєш символом надії для інших, хто шукає прощення і внутрішній мир.",
    options: []
  },
  {
    id: 17,
    description: "Ти знаходиш внутрішній спокій і приймаєш свою долю як вчителя та мандрівника. Твоя подорож продовжується, але ти більше не шукаєш відповіді. Спокій в тобі.",
    options: []
  },
  {
    id: 18,
    description: "Ти проходиш через важкі випробування, що очищають твою душу. Ти досягаєш спокути, залишивши темряву позаду, і повертаєшся до світу, щоб допомагати іншим.",
    options: []
  },
  {
    id: 19,
    description: "Ти приймаєш темряву, але вона більше не володіє тобою. Ти стаєш охоронцем рівноваги між світлом і темрявою.",
    options: []
  }
];

let currentScene = 1;

function renderScene(sceneId) {
  const scene = scenes.find(s => s.id === sceneId);
  currentScene = sceneId;
  document.getElementById("story-text").textContent = scene.description;

  // Відображаємо кнопки та текст
  for (let i = 0; i < scene.options.length; i++) {
    const btn = document.getElementById(`option${i + 1}`);
    btn.style.display = "block"; // Показуємо кнопки
    btn.textContent = scene.options[i].text;
  }

  // Приховуємо кнопки, якщо їх менше ніж 2
  for (let i = scene.options.length; i < 2; i++) {
    const btn = document.getElementById(`option${i + 1}`);
    btn.style.display = "none";
  }

  // Якщо сцена фінальна, показуємо кнопку для переходу на головну сторінку
  if (scene.options.length === 0) {
    const btn = document.getElementById("back-to-home");
    btn.style.display = "block"; // Показуємо кнопку переходу на головну
  } else {
    const btn = document.getElementById("back-to-home");
    btn.style.display = "none"; // Сховуємо кнопку, якщо ще не фінал
  }
}

function chooseOption(optionNumber) {
  const scene = scenes.find(s => s.id === currentScene);
  const option = scene.options[optionNumber - 1];
  if (option && scenes.find(s => s.id === option.nextScene)) {
    renderScene(option.nextScene);
  } else {
    alert("Ця сцена ще не готова або сталася помилка.");
  }
}

// Функція для повернення на головну сторінку
function goToHomePage() {
  window.location.href = "index.html";
}

window.onload = () => {
  renderScene(currentScene);
};
