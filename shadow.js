//Сцени для шляху Тіні
const scenes = [
  {
    id: 1,
    description: "Ти прокидаєшся у темних лісах Півночі світу Елерасс. Темрява глибока, і з кожним кроком ти все більше відчуваєш присутність чогось магічного. Ти бачиш дві стежки. Який шлях вибрати?",
    options: [
      { text: "Іти вглиб лісу, слідувати темним відчуттям", nextScene: 2 },
      { text: "Піти до старого храму, що здається за горизонтом", nextScene: 3 }
    ]
  },
  {
    id: 2,
    description: "Ти відчуваєш, як темрява огортає тебе. Раптом на твоєму шляху з'являється ворог — темний воїн Тіньовик, охоронець таємниць цього лісу. Як діяти?",
    options: [
      { text: "Проти них використати заборонену магію Тіні", nextScene: 4 },
      { text: "Вступити в бій", nextScene: 5 }
    ]
  },
  {
    id: 3,
    description: "Ти підходиш до храму Ельфів, що здалеку виглядав спокійно. Але коли ти наближаєшся,то бачиш що біля нього сплять вартові дракони. Який твій вибір?",
    options: [
      { text: "Зайти всередину і дослідити храм", nextScene: 6 },
      { text: "Відійти і знайти інший шлях", nextScene: 7 }
    ]
  },
  {
    id: 4,
    description: "Ти використовуєш магію Тіні і знищуєш ворога, але відчуваєш, як твоя душа починає темніти. Ти відчуваєш зв’язок з чимось древнім і потужним. Що робити?",
    options: [
      { text: "Покликати силу Тіні для розкриття нових можливостей", nextScene: 8 },
      { text: "Відступити і шукати спосіб очистити себе", nextScene: 9 }
    ]
  },
  {
    id: 5,
    description: "Ти вступаєш в бій магією і знищуєщ темного воїна, але відчуваєш, що кожен твій удар збільшує твою залежність від Тіні. Як бути далі?",
    options: [
      { text: "Шукати нові способи контролювати свої сили", nextScene: 9 },
      { text: "Використовувати свої сили для пошуку темного артефакта", nextScene: 8 }
    ]
  },
  {
    id: 6,
    description: "В середині храму ти знаходиш стародавній артефакт, який здається забутим і потужним. Це артефакт, що може підкорити Безодню. Який твій вибір?",
    options: [
      { text: "Використати артефакт, щоб змусити Безодню підкоритися", nextScene: 8 },
      { text: "Відмовитись від артефакту, шукаючи інший шлях", nextScene: 7 }
    ]
  },
  {
    id: 7,
    description: "Ти відмовляєшся від артефакту і повертаєшся до лісу. Однак, по шляху тебе наздоганяє дух мага, що манить тебе назад у темряву. Що робити?",
    options: [
      { text: "Іти назустріч силі і пірнати у темряву", nextScene: 9 },
      { text: "Тікати і намагатись вийти з лісу", nextScene: 8 }
    ]
  },
  {
    id: 8,
    description: "Ти відчуваєш, як темна сила охоплює тебе. Тепер ти стоїш перед Клинком Безодні. Ти можеш підкорити цей артефакт. Що робити?",
    options: [
      { text: "Забрати Клинок і підкорити світ темряви", nextScene: 10 },
      { text: "Викинути Клинок і відмовитися від темної сили", nextScene: 9 }
    ]
  },
  {
    id: 9,
    description: "Ти відмовляєшся від сили і намагаєшся зупинити світ, що потопає в темряві. Однак сили темряви тебе все одно поглинають. Чи є надія?",
    options: [
      { text: "Продовжити боротьбу з темрявою", nextScene: 10 },
      { text: "Прийняти свою долю і стати правителем Безодні", nextScene: 11 }
    ]
  },
  {
    id: 10,
    description: "Ти підкорив Клинок Безодні і тепер керуєш темрявою, поглинаючи світ. У твоїх руках лежить влада, але що з тобою сталося? Ти вже не той, ким був раніше. Що обрати?",
    options: [
      { text: "Знищити Клинок і відновити світ", nextScene: 12 },
      { text: "Залишити Клинок і підкорити світ темряви", nextScene: 13 }
    ]
  },
  {
    id: 11,
    description: "Темрява поглинає тебе, але ти знаходиш своє місце серед цих темних сил. Ти правитель Безодні, і ти прийняв свою долю.",
    options: []
  },
  {
    id: 12,
    description: "Ти знищив Клинок Безодні і повернув баланс між світом темряви і світлом. Світ почав відновлюватися, але ти став новим стражем рівноваги.",
    options: []
  },
  {
    id: 13,
    description: "Ти підкорив світ темряви і змінив світ на свою подобу. Тепер ти — правитель Безодні, що поглинув усе.",
    options: []
  }
];

let currentScene = 1;

function renderScene(sceneId) {
  const scene = scenes.find(s => s.id === sceneId);
  currentScene = sceneId;
  document.getElementById("story-text").textContent = scene.description;

  // Відображаємо кнопки та текст
  for (let i = 0; i < scene.options.length; i++) {
    const btn = document.getElementById(`option${i + 1}`);
    btn.style.display = "block"; // Показуємо кнопки
    btn.textContent = scene.options[i].text;
  }

  // Приховуємо кнопки, якщо їх менше ніж 2
  for (let i = scene.options.length; i < 2; i++) {
    const btn = document.getElementById(`option${i + 1}`);
    btn.style.display = "none";
  }

  // Якщо сцена фінальна, показуємо кнопку для переходу на головну сторінку
  if (scene.options.length === 0) {
    const btn = document.getElementById("back-to-home");
    btn.style.display = "block"; // Показуємо кнопку переходу на головну
  } else {
    const btn = document.getElementById("back-to-home");
    btn.style.display = "none"; // Сховуємо кнопку, якщо ще не фінал
  }
}

function chooseOption(optionNumber) {
  const scene = scenes.find(s => s.id === currentScene);
  const option = scene.options[optionNumber - 1];
  if (option && scenes.find(s => s.id === option.nextScene)) {
    renderScene(option.nextScene);
  } else {
    alert("Ця сцена ще не готова або сталася помилка.");
  }
}

// Функція для повернення на головну сторінку
function goToHomePage() {
  window.location.href = "index.html"; 
}

window.onload = () => {
  renderScene(currentScene);
};




